<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <title>I still remember... 3rd of December</title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />

  <style>
    /* ---------- CUSTOM FONTS ---------- */

    /* English font */
    @font-face {
      font-family: "EnglishFont";
      src: url("./englishfont.ttf") format("truetype");
      font-display: swap;
      unicode-range:
        U+0000-00FF,
        U+0100-024F,
        U+1E00-1EFF; /* Latin ranges */
    }

    /* Persian font */
    @font-face {
      font-family: "PersianFont";
      src: url("./persianfont.ttf") format("truetype");
      font-display: swap;
      unicode-range:
        U+0600-06FF,
        U+0750-077F,
        U+08A0-08FF,
        U+FB50-FDFF,
        U+FE70-FEFF; /* Persian + Arabic ranges */
    }

    :root {
      --bg: #050309;
      --text-main: #fdf5ff;
      --text-muted: #b3a7c9;
      --accent-start: #ff8fd1;
      --accent-mid: #ff6ec7;
      --accent-end: #c07cff;
      --button-bg: rgba(255, 255, 255, 0.02);
      --button-border: rgba(255, 130, 210, 0.7);
      --shadow-soft: 0 0 40px rgba(255, 105, 220, 0.3);
      --radius-pill: 999px;
      --transition-fast: 0.35s ease-out;
      --transition-med: 0.7s ease;
    }

    /* --- Background Video Behind Everything --- */
    .bg-video {
      position: fixed;
      top: 50%;
      left: 50%;
      width: 110vw;
      height: auto;
      min-width: 100%;
      min-height: 100%;
      transform: translate(-50%, -50%);
      object-fit: cover;
      opacity: 0.12; /* subtle visibility */
      z-index: -2;
      filter: brightness(0.5) saturate(1.3) blur(2px);
      pointer-events: none;
      user-select: none;
    }

    /* --- Floating animation for the 'click the button' text --- */
    .floating {
      animation: floatUpDown 4.8s ease-in-out infinite;
    }

    @keyframes floatUpDown {
      0% { transform: translateY(0px); }
      50% { transform: translateY(-9px); opacity: 0.9; }
      100% { transform: translateY(0px); opacity: 1; }
    }

    * {
      box-sizing: border-box;
      margin: 0;
      padding: 0;
    }

    body {
      margin: 0;
      min-height: 100vh;
      font-family: "EnglishFont", "PersianFont", sans-serif;
      background: radial-gradient(circle at top, #1b0b24 0, #050309 55%, #020104 100%);
      color: var(--text-main);
      overflow-x: hidden;
    }

    main {
      position: relative;
      min-height: 100vh;
    }

    /* Tiny floating dust / stars */
    .starfield {
      pointer-events: none;
      position: fixed;
      inset: 0;
      background-image:
        radial-gradient(1px 1px at 10% 20%, rgba(255,255,255,0.2), transparent),
        radial-gradient(1px 1px at 80% 10%, rgba(255,180,255,0.35), transparent),
        radial-gradient(1px 1px at 30% 80%, rgba(200,150,255,0.25), transparent),
        radial-gradient(1px 1px at 60% 50%, rgba(255,255,255,0.25), transparent);
      opacity: 0.6;
      mix-blend-mode: screen;
      z-index: 0;
      animation: drift 40s linear infinite;
    }

    @keyframes drift {
      from { transform: translate3d(0,0,0); }
      to   { transform: translate3d(-80px, -40px, 0); }
    }

    /* ------------- HERO ------------- */
    .hero {
      position: relative;
      z-index: 1;
      min-height: 100vh;
      display: flex;
      align-items: center;
      justify-content: center;
      padding: clamp(2rem, 4vw, 3rem) clamp(1.5rem, 5vw, 4rem);
      text-align: center;
      overflow: hidden;
    }

    .hero-inner {
      max-width: 640px;
      position: relative;
      margin: 0 auto;
      display: flex;
      flex-direction: column;
      align-items: center;
    }

    .hero::before {
      /* subtle silhouette behind text (fake sweater-ish blob) */
      content: "";
      position: absolute;
      inset: 5vh 10vw;
      background: radial-gradient(circle at 50% -10%, rgba(255, 255, 255, 0.05), transparent 55%),
                  radial-gradient(circle at 50% 80%, rgba(0,0,0,0.7), transparent 70%);
      mix-blend-mode: soft-light;
      opacity: 0.65;
      pointer-events: none;
      z-index: -1;
    }

    /* Top heart */
    .top-heart {
      display: flex;
      align-items: center;
      justify-content: center;
      width: 40px;
      height: 40px;
      margin: 0 auto clamp(1.25rem, 3vh, 1.75rem);
      border-radius: 999px;
      border: 1px solid rgba(255, 160, 220, 0.9);
      box-shadow: 0 0 12px rgba(255, 120, 210, 0.5);
      background: radial-gradient(circle at 50% 0%, rgba(255,255,255,0.12), transparent);
      font-size: 20px;
    }

    /* Gradient text */
    .hero-title {
      font-weight: 500;
      line-height: 1.1;
      letter-spacing: 0.04em;
      font-size: clamp(2.4rem, 4vw, 3.6rem);
      margin-bottom: 1rem;
      color: transparent;
      background-image: linear-gradient(120deg,
        var(--accent-start),
        var(--accent-mid),
        var(--accent-end));
      -webkit-background-clip: text;
      background-clip: text;
      text-shadow:
        0 0 18px rgba(255, 120, 220, 0.35),
        0 0 30px rgba(120, 80, 210, 0.4);
    }

    .hero-title span {
      display: block;
    }

    .hero-subtitle {
      font-size: clamp(0.95rem, 1.2rem, 1.1rem);
      color: var(--text-muted);
      font-style: italic;
      margin-bottom: 2.1rem;
    }

    .cta {
      position: relative;
      display: inline-flex;
      align-items: center;
      justify-content: center;
      gap: 0.65rem;
      padding: 0.9rem 2.8rem;
      border-radius: 999px;
      border: 1px solid var(--button-border);
      background: radial-gradient(circle at 0 0, rgba(255,255,255,0.12), transparent 55%),
                  var(--button-bg);
      backdrop-filter: blur(14px);
      color: var(--text-main);
      font-family: "EnglishFont", "PersianFont", sans-serif;
      font-size: 1.02rem;
      letter-spacing: 0.05em;
      text-transform: none;
      cursor: pointer;
      box-shadow: var(--shadow-soft);
      outline: none;
      transition:
        transform var(--transition-fast),
        box-shadow var(--transition-fast),
        background var(--transition-fast),
        border-color var(--transition-fast);
    }

    .cta-heart {
      font-size: 1.1rem;
      opacity: 0.9;
    }

    .cta::before {
      content: "";
      position: absolute;
      inset: 0;
      border-radius: inherit;
      padding: 1px;
      background: linear-gradient(135deg,
        rgba(255, 160, 220, 0.9),
        rgba(180, 120, 255, 0.9));
      -webkit-mask:
        linear-gradient(#000 0 0) content-box,
        linear-gradient(#000 0 0);
      -webkit-mask-composite: xor;
      mask-composite: exclude;
      opacity: 0.65;
    }

    .cta:hover {
      transform: translateY(-1px) scale(1.02);
      box-shadow: 0 0 30px rgba(255, 120, 220, 0.75);
      border-color: rgba(255, 190, 240, 0.9);
    }

    .cta:active {
      transform: translateY(1px) scale(0.99);
      box-shadow: 0 0 20px rgba(255, 120, 220, 0.6);
    }

    .hero-hint {
      margin-top: 1.75rem;
      font-size: 0.85rem;
      color: rgba(210, 195, 230, 0.6);
      font-style: italic;
    }

    /* ------------- TRANSITION GLOW ------------- */
    .glow-overlay {
      position: fixed;
      inset: 0;
      pointer-events: none;
      z-index: 10;
      opacity: 0;
      background:
        radial-gradient(circle at center,
          rgba(255, 180, 240, 0.1) 0,
          rgba(255, 150, 230, 0.3) 20%,
          rgba(80, 40, 130, 0.9) 55%,
          #000 100%);
      transform: scale(0.8);
    }

    body.is-transitioning .glow-overlay {
      animation: glowExpand 1.3s ease-out forwards;
    }

    @keyframes glowExpand {
      0% {
        opacity: 0;
        transform: scale(0.5);
      }
      40% {
        opacity: 1;
        transform: scale(1.05);
      }
      100% {
        opacity: 1;
        transform: scale(1.6);
      }
    }

    body.is-transitioning .hero-inner {
      animation: heroFadeOut 1s ease-out forwards;
    }

    @keyframes heroFadeOut {
      to {
        opacity: 0;
        transform: translateY(10px) scale(0.97);
        filter: blur(2px);
      }
    }

    /* ------------- PDF VIEW ------------- */

    .pdf-section {
      position: fixed;
      inset: 0;
      z-index: 11;
      display: flex;
      align-items: stretch;
      justify-content: center;
      padding: clamp(1.5rem, 3vw, 2.25rem) clamp(0.75rem, 3vw, 2.5rem);
      opacity: 0;
      pointer-events: none;
      transform: translateY(12px);
      transition:
        opacity var(--transition-med),
        transform var(--transition-med);
      background: radial-gradient(circle at top, #1b0b24 0, #050309 60%, #000 100%);
    }

    body.pdf-open .pdf-section {
      opacity: 1;
      pointer-events: auto;
      transform: translateY(0);
    }

    .pdf-inner {
      max-width: 1100px;
      width: 100%;
      display: flex;
      flex-direction: column;
      gap: 1.25rem;
    }

    .pdf-title {
      font-family: "EnglishFont", "PersianFont", sans-serif;
      font-size: clamp(1.4rem, 2vw, 1.8rem);
      letter-spacing: 0.12em;
      text-transform: uppercase;
      color: transparent;
      background-image: linear-gradient(120deg,
        var(--accent-start),
        var(--accent-end));
      -webkit-background-clip: text;
      background-clip: text;
      text-align: center;
      margin-bottom: 0.75rem;
    }

    .pdf-note {
      text-align: center;
      font-size: 0.9rem;
      color: rgba(210, 195, 230, 0.75);
      margin-bottom: 0.75rem;
    }

    .pdf-frame-wrapper {
      flex: 1 1 auto;
      border-radius: 1.5rem;
      overflow: hidden;
      position: relative;
      background: radial-gradient(circle at top,
        rgba(255, 150, 230, 0.08),
        rgba(20, 10, 40, 0.9));
      box-shadow:
        0 0 50px rgba(255, 120, 220, 0.8),
        0 0 120px rgba(80, 50, 160, 0.8);
      border: 1px solid rgba(255, 200, 255, 0.25);
    }

    .pdf-frame-wrapper::before {
      content: "";
      position: absolute;
      inset: -40%;
      background:
        conic-gradient(from 160deg,
          rgba(255, 180, 240, 0.25),
          rgba(160, 120, 255, 0.1),
          transparent 55%,
          rgba(255, 120, 220, 0.25));
      opacity: 0.35;
      filter: blur(20px);
      mix-blend-mode: screen;
      animation: pdfGlow 16s linear infinite;
      pointer-events: none;
    }

    @keyframes pdfGlow {
      from { transform: rotate(0deg); }
      to   { transform: rotate(360deg); }
    }

    .pdf-frame {
      position: relative;
      width: 100%;
      height: min(78vh, 900px);
      border: none;
      border-radius: inherit;
      background: #0b0715;
      z-index: 1;
    }

    .pdf-back {
      margin-top: 0.75rem;
      text-align: center;
    }

    .pdf-back button {
      border: none;
      border-radius: var(--radius-pill);
      padding: 0.55rem 1.4rem;
      background: rgba(4, 2, 8, 0.8);
      color: rgba(230, 215, 250, 0.9);
      font-size: 0.8rem;
      letter-spacing: 0.14em;
      text-transform: uppercase;
      cursor: pointer;
      border: 1px solid rgba(190, 150, 255, 0.6);
      transition:
        background 0.25s ease-out,
        transform 0.25s ease-out,
        box-shadow 0.25s ease-out;
      font-family: "EnglishFont", "PersianFont", sans-serif;
    }

    .pdf-back button:hover {
      background: radial-gradient(circle at 0 0,
        rgba(255, 190, 255, 0.16),
        rgba(4, 2, 8, 0.95));
      transform: translateY(-1px);
      box-shadow: 0 0 22px rgba(160, 120, 255, 0.7);
    }

    .pdf-back button:active {
      transform: translateY(0);
      box-shadow: 0 0 10px rgba(160, 120, 255, 0.5);
    }

    /* --- Color Overlay on Video for Blending --- */
    .video-color-overlay {
      position: fixed;
      inset: 0;
      z-index: -1; /* above the video, below all UI */
      pointer-events: none;

      background: linear-gradient(
        135deg,
        rgba(255, 120, 220, 0.28),
        rgba(150, 100, 255, 0.22),
        rgba(20, 5, 40, 0.55)
      );

      mix-blend-mode: screen; /* beautiful glow blend */
      opacity: 0.75;          /* adjust for strength */
    }

    /* ------------- RESPONSIVE TWEAKS ------------- */
    @media (max-width: 600px) {
      .hero-inner {
        max-width: 100%;
      }
      .hero-title {
        font-size: clamp(2.1rem, 8vw, 2.8rem);
      }
      .hero-subtitle {
        margin-bottom: 1.6rem;
      }
      .cta {
        width: 100%;
        max-width: 260px;
      }
      .pdf-frame {
        height: 72vh;
      }
    }

    @media (min-width: 900px) {
      .hero {
        text-align: center;
      }
    }
  </style>
</head>
<body>
  <main>
    <div class="starfield"></div>

    <!-- Background Sweater Video -->
    <video class="bg-video" src="./video_2025-12-03_20-47-42.mp4" autoplay loop muted playsinline></video>

    <!-- HERO PAGE -->
    <section class="hero" id="hero">
      <div class="hero-inner">
        <div class="top-heart">♡</div>

        <h1 class="hero-title">
          <span>I still remember...</span>
          <span>3rd of December</span>
        </h1>

        <p class="hero-subtitle">
          !این کوچولو برای توئه، کوشولو
        </p>

        <button class="cta" id="open-heart">
          <span>Accept the Sweater</span>
          <span class="cta-heart">♡</span>
        </button>

        <p class="hero-hint floating">Click the button to begin</p>
      </div>
    </section>

    <!-- Transition glow overlay -->
    <div class="glow-overlay" id="glow-overlay"></div>

    <!-- PDF PAGE -->
    <section class="pdf-section" id="pdf-section" aria-hidden="true">
      <div class="pdf-inner">
        <h2 class="pdf-title">برای بغل‌کردنی‌ترین دختر دنیا</h2>
        <p class="pdf-note">
          Turn your sound on, there&rsquo;s a little song playing for you.
        </p>

        <div class="pdf-frame-wrapper">
          <!-- Replace YOUR_PDF_URL_HERE with your actual PDF URL or local path -->
          <iframe
            class="pdf-frame"
            src="./letter.pdf"
            title="Letter PDF"
          ></iframe>
        </div>

        <div class="pdf-back">
          <button type="button" id="back-to-hero">
            ⟵ برگردیم به ویدیوی بوسه‌مون
          </button>
        </div>
      </div>
    </section>

    <!-- Background music (starts on page load) -->
    <audio id="bg-music" src="./1_4 - Sweater Weather - The Neighbourhood (320).mp3" loop></audio>
  </main>

  <script>
    const openBtn = document.getElementById("open-heart");
    const backBtn = document.getElementById("back-to-hero");
    const body = document.body;
    const pdfSection = document.getElementById("pdf-section");
    const bgMusic = document.getElementById("bg-music");

    /* -----------------------------------------
       MUSIC: START ON PAGE LOAD (FADE-IN SAFE)
    ------------------------------------------*/
    window.addEventListener("DOMContentLoaded", () => {
      bgMusic.volume = 0.0;  // start silent to allow autoplay
      const attempt = bgMusic.play();

      if (attempt !== undefined) {
        attempt.then(() => {
          // fade in to 40% volume
          setTimeout(() => {
            bgMusic.volume = 0.4;
          }, 150);
        }).catch(() => {
          // If browser blocks autoplay → allow on first click
          window.addEventListener("click", () => {
            bgMusic.play();
            bgMusic.volume = 0.4;
          }, { once: true });
        });
      }
    });

    /* -----------------------------------------
       OPEN PDF (BUTTON CLICK)
       → PLAY TRANSITION
       → KEEP MUSIC PLAYING!
    ------------------------------------------*/
    function openPdfSection() {
      if (body.classList.contains("pdf-open")) return;

      body.classList.add("is-transitioning");

      setTimeout(() => {
        body.classList.add("pdf-open");
        pdfSection.setAttribute("aria-hidden", "false");
      }, 850);

      setTimeout(() => {
        body.classList.remove("is-transitioning");
      }, 1500);
    }

    /* -----------------------------------------
       CLOSE PDF → GO BACK TO HERO PAGE
       → MUSIC KEEPS PLAYING (unchanged)
    ------------------------------------------*/
    function closePdfSection() {
      body.classList.remove("pdf-open");
      pdfSection.setAttribute("aria-hidden", "true");
    }

    /* Event Listeners */
    openBtn.addEventListener("click", openPdfSection);
    backBtn.addEventListener("click", closePdfSection);
  </script>
</body>
</html>
